# IslandShield Security - Render Deployment Guide

## ðŸš€ Quick Start

### Prerequisites
- GitHub account
- Render account (free tier available)
- Git installed locally

---

## ðŸ“¦ Deployment Steps

### 1. Prepare Your Repository

```bash
# Initialize git (if not already done)
git init

# Add all files
git add .

# Commit
git commit -m "Initial commit - IslandShield Security"

# Create GitHub repository and push
git remote add origin https://github.com/YOUR_USERNAME/islandshield-security.git
git branch -M main
git push -u origin main
```

---

### 2. Deploy to Render

#### Option A: Using Render Dashboard (Recommended)

1. **Go to [Render Dashboard](https://dashboard.render.com/)**

2. **Create New Web Service**
   - Click "New +" â†’ "Web Service"
   - Connect your GitHub repository
   - Select `islandshield-security` repo

3. **Configure Web Service**
   ```
   Name: islandshield-security
   Environment: Docker
   Region: Choose closest to your users
   Branch: main
   Dockerfile Path: ./Dockerfile
   Plan: Free
   ```

4. **Add Environment Variables**
   ```
   DB_HOST=<your-render-db-host>
   DB_NAME=islandshield_db
   DB_USER=islandshield_user
   DB_PASSWORD=<auto-generated>
   APP_ENV=production
   APP_DEBUG=false
   APP_URL=https://your-app.onrender.com
   ```

5. **Create Database**
   - Click "New +" â†’ "PostgreSQL" or "MySQL"
   - Name: `islandshield-db`
   - Plan: Free
   - Copy connection details to environment variables

6. **Deploy**
   - Click "Create Web Service"
   - Wait for deployment (5-10 minutes)

#### Option B: Using render.yaml (Infrastructure as Code)

1. Push `render.yaml` to your repository
2. Go to Render Dashboard
3. Click "New +" â†’ "Blueprint"
4. Connect repository
5. Render will auto-detect `render.yaml` and create all services

---

### 3. Database Setup

#### Import Database Schema

**Option 1: Using Render Shell**
```bash
# Access your web service shell
mysql -h <DB_HOST> -u <DB_USER> -p<DB_PASSWORD> <DB_NAME> < includes/islandshield_database.sql
```

**Option 2: Using MySQL Client**
1. Download your database connection details from Render
2. Use MySQL Workbench or phpMyAdmin
3. Import `includes/islandshield_database.sql`

---

### 4. Environment Configuration

Create an `.env` file (DO NOT commit this, you should replace with your own):

```env
# Database (from Render)
DB_HOST=your-db-host.render.com
DB_NAME=islandshield_db
DB_USER=islandshield_user
DB_PASSWORD=your-secure-password

# Application
APP_ENV=production
APP_DEBUG=false
APP_URL=https://islandshield-security.onrender.com

# Email (Optional - for contact forms)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
```

---

## ðŸ§ª Local Testing with Docker

### Test Before Deploying

```bash
# Build and run locally
docker-compose up -d

# Access application
# Web: http://localhost:8080
# phpMyAdmin: http://localhost:8081

# View logs
docker-compose logs -f web

# Stop containers
docker-compose down
```

---

## ðŸ”§ Troubleshooting

### Common Issues

**1. Database Connection Failed**
```bash
# Check environment variables in Render dashboard
# Verify DB_HOST, DB_USER, DB_PASSWORD, DB_NAME
```

**2. 502 Bad Gateway**
```bash
# Check Render logs
# Ensure Dockerfile is correct
# Verify port 80 is exposed
```

**3. Assets Not Loading**
```bash
# Check file paths are relative
# Verify .dockerignore doesn't exclude assets
# Clear browser cache
```

**4. PHP Errors**
```bash
# Set APP_DEBUG=true temporarily
# Check Render logs for detailed errors
# Verify PHP extensions are installed
```

---

## ðŸ“Š Monitoring

### Check Application Health

1. **Render Dashboard**
   - View deployment logs
   - Monitor CPU/Memory usage
   - Check uptime

2. **Application Logs**
   ```bash
   # In Render dashboard
   Services â†’ islandshield-security â†’ Logs
   ```

3. **Database Logs**
   ```bash
   # In Render dashboard
   Services â†’ islandshield-db â†’ Logs
   ```

---

## ðŸ” Security Checklist

- [ ] Change all default passwords
- [ ] Set `APP_DEBUG=false` in production
- [ ] Enable HTTPS (automatic on Render)
- [ ] Set secure session cookies
- [ ] Validate all user inputs
- [ ] Use prepared statements (already implemented)
- [ ] Keep dependencies updated
- [ ] Regular database backups

---

## ðŸ”„ Continuous Deployment

Render automatically deploys when you push to GitHub:

```bash
# Make changes
git add .
git commit -m "Update feature"
git push origin main

# Render will automatically:
# 1. Detect changes
# 2. Build new Docker image
# 3. Deploy to production
# 4. Zero-downtime deployment
```

---

## ðŸ’° Cost Optimization

### Free Tier Limits (Render)
- Web Service: 750 hours/month
- Database: 90 days free, then $7/month
- Bandwidth: 100 GB/month
- Build minutes: 500 minutes/month

### Tips
- Use free tier for testing
- Upgrade to paid plan for production
- Enable auto-scaling for traffic spikes
- Use CDN for static assets

---

## ðŸ“ž Support

- **Render Docs**: https://render.com/docs
- **Docker Docs**: https://docs.docker.com
- **PHP Docs**: https://www.php.net/docs.php

---

## ðŸŽ‰ Success!

Your IslandShield Security website should now be live at:
`https://islandshield-security.onrender.com`

Test all features:
- âœ… Homepage loads
- âœ… Navigation works
- âœ… Forms submit
- âœ… Database connections work
- âœ… Login/Register functions
- âœ… All pages accessible
